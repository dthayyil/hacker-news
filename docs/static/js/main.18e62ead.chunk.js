(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,a){e.exports=a(44)},23:function(e,t,a){},25:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(16),i=a.n(r),s=(a(23),a(25),a(3)),c=a(4),l=a(6),u=a(5),m=a(2),f=a(17),v=a.n(f);function h(e){return function(){var t,a=Object(m.a)(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var n=Object(m.a)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return Object(u.a)(this,t)}}var p=function(e){Object(l.a)(a,e);var t=h(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).getDomainForDisplay=function(){var e=n.state.domain;return e?o.a.createElement("a",{href:e,title:"Url",className:"domain-link",target:"_blank",rel:"noopener noreferrer"}," ("+e+")"):null},n.getUpvotedNews=function(){var e=localStorage.getItem("upvotedNews");return e?JSON.parse(e):[]},n.removeVote=function(e){var t,a=n.state.vote,o=n.props.newsData.objectID,r=(t=n.getUpvotedNews()).indexOf(o);-1!==r&&t.splice(r,1),localStorage.setItem("upvotedNews",JSON.stringify(t)),e.target.style.visibility="visible",a-=1,n.setState({vote:a})},n.isVoteGiven=function(){var e=n.props.newsData.objectID,t=localStorage.getItem("upvotedNews");return!!t&&-1!==(t=JSON.parse(t)).indexOf(e)},n.state={title:"",comments:"",vote:0,domain:"",date:"",author:""},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.newsData,t=e.author,a=void 0===t?"":t,n=e.points,o=void 0===n?0:n,r=e.url,i=e.created_at,s=e.title,c=void 0===s?"":s,l=e.num_comments,u=void 0===l?"":l;this.setState({title:c,comments:u,author:a,vote:this.isVoteGiven()?o+1:o,domain:r?this.getDomainName(r):"",date:this.getTime(i)})}},{key:"getDomainName",value:function(e){return e.replace("http://","").replace("https://","").split(/[/?#]/)[0]}},{key:"getTime",value:function(e){var t=new Date,a=new Date(e),n=Math.floor((t-a)/1e3),o=Math.floor(n/60),r=Math.floor(o/60),i=Math.floor(r/24),s=Math.floor(i/365);n=n-24*i*60*60-60*(r-=24*i)*60-60*(o=o-24*i*60-60*r);var c="";return s?c="".concat(s," year"):i?c="".concat(i," days"):r?c="".concat(r," hours"):o&&(c="".concat(o," minute")),c}},{key:"addVote",value:function(e){var t,a=this.state.vote,n=this.props.newsData.objectID;a+=1,this.setState({vote:a}),(t=this.getUpvotedNews()).push(n),localStorage.setItem("upvotedNews",JSON.stringify(t))}},{key:"render",value:function(){var e=this,t=this.state,a=t.vote,n=t.author,r=t.date,i=t.title,s=t.comments,c=this.isVoteGiven();return o.a.createElement("li",{className:"feed-news__item"},o.a.createElement("span",{className:"comment",title:"No of comments"},s||0),o.a.createElement("span",{className:"vote",title:"No of votes"},a||0),o.a.createElement("div",{className:"item-row"},c?o.a.createElement("button",{className:"hide-arrow"}):o.a.createElement("button",{className:"arrow",title:"Click to upvote",onClick:function(t){return e.addVote(t)}}),o.a.createElement("div",{className:"title"},o.a.createElement("span",{className:"black-color"},i),this.getDomainForDisplay(),o.a.createElement("span",null," by ",o.a.createElement("span",{className:"black-color",title:"Author"}," ",n," "),o.a.createElement("span",{title:"Age"}," ",r," ago ")),o.a.createElement("span",{className:"hide-btn",onClick:function(){return e.props.hidePost(e.props)}},"[ hide ]"),c?o.a.createElement("span",{className:"unvote",onClick:function(t){return e.removeVote(t)}}," ","[ unvote ]"):null)))}}]),a}(o.a.Component),d=["top","new"],g=function(e){return o.a.createElement("header",{className:"header"},o.a.createElement("ul",{className:"header-list"},d.map(function(t,a){return o.a.createElement("li",{className:'header-list__item " '.concat(e.activeTab===a?"active":""),key:a,onClick:function(t){return e.getActiveTabData(a,t)}},t)})))};function b(e){return function(){var t,a=Object(m.a)(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var n=Object(m.a)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return Object(u.a)(this,t)}}var w=1,N=function(e){Object(l.a)(a,e);var t=b(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).getHiddenPost=function(){var e=localStorage.getItem("hiddenItems");return e?JSON.parse(e):[]},n.getVisibleNews=function(e){var t=localStorage.getItem("hiddenItems");return t&&(t=JSON.parse(t),e=e.filter(function(e){return-1===t.indexOf(e.objectID)})),e},n.state={newsData:[],moreItemsExist:!1,activeTab:0},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.getNewsList()}},{key:"nextNews",value:function(){w+=1,this.getNewsList(w,this.state.activeTab)}},{key:"hidePost",value:function(e){var t=e.newsData.objectID,a=this.getHiddenPost();a.push(t),localStorage.setItem("hiddenItems",JSON.stringify(a));var n=this.state.newsData.filter(function(e){return e.objectID!==t});this.setState({newsData:n})}},{key:"isItemExists",value:function(e){return!!e}},{key:"getNewsList",value:function(){var e,t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=this.state.moreItemsExist;e=0===n?"https://hn.algolia.com/api/v1/search?page=".concat(a):"https://hn.algolia.com/api/v1/search_by_date?query=recent&page=".concat(a),v.a.get(e).then(function(e){var a=e.data.hits;a=t.getVisibleNews(a),o=t.isItemExists(a),t.setState({newsData:a,moreItemsExist:o,activeTab:n})})}},{key:"getActiveTabData",value:function(e){var t=e;w=1,this.getNewsList(1,t)}},{key:"render",value:function(){var e=this,t=this.state,a=t.newsData,n=t.moreItemsExist,r=t.activeTab;return o.a.createElement(o.a.Fragment,null,o.a.createElement(g,{activeTab:r,getActiveTabData:this.getActiveTabData.bind(this)}),o.a.createElement("ul",{className:"feed-news"},a.map(function(t){return o.a.createElement(p,{key:t.objectID,hidePost:function(t){return e.hidePost(t)},newsData:t})})),n?o.a.createElement("button",{className:"more-btn",onClick:function(){return e.nextNews()}},"More"):null)}}]),a}(o.a.Component);var y=function(){return o.a.createElement(n.Fragment,null,o.a.createElement(N,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[18,2,1]]]);
//# sourceMappingURL=main.18e62ead.chunk.js.map